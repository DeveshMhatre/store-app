(this["webpackJsonpstore-app"]=this["webpackJsonpstore-app"]||[]).push([[0],{58:function(t,e,c){},59:function(t,e,c){"use strict";c.r(e);var a=c(2),s=c(0),r=c(11),n=c.n(r),i=c(15),o=c(43),l=c(4),d=function(t,e){switch(e.type){case"ADD":return e.payload.quantity=1,e.payload.amount=e.payload.price*e.payload.quantity,Object(l.a)(Object(l.a)({},t),{},{total_items:t.total_items+1,total_amount:t.total_amount+e.payload.price,items:[].concat(Object(o.a)(t.items),[e.payload])});case"REMOVE":return Object(l.a)(Object(l.a)({},t),{},{total_items:t.total_items-1,total_amount:t.total_amount-e.payload.price,items:t.items.filter((function(t){return t.id!==e.payload.id}))});case"INCREASE":return Object(l.a)(Object(l.a)({},t),{},{total_items:t.total_items+1,total_amount:t.total_amount+e.payload.price,items:t.items.map((function(t){return t.id===e.payload.id?Object(l.a)(Object(l.a)({},t),{},{quantity:t.quantity+1,amount:t.amount+t.price}):t}))});case"DECREASE":return Object(l.a)(Object(l.a)({},t),{},{total_items:t.total_items-1,total_amount:t.total_amount-e.payload.price,items:t.items.map((function(t){return t.id===e.payload.id?Object(l.a)(Object(l.a)({},t),{},{quantity:t.quantity-1,amount:t.amount-t.price}):t}))});case"SHOW":return Object(l.a)(Object(l.a)({},t),{},{isVisible:!0});case"HIDE":return Object(l.a)(Object(l.a)({},t),{},{isVisible:!1});case"CLEAR":return{total_amount:0,total_items:0,items:[],isVisible:!0};default:return t}},u={total_items:0,total_amount:0,items:[],isVisible:!1},j=Object(s.createContext)({state:u,dispatch:function(){return null}}),b=function(t){var e=t.children,c=Object(s.useReducer)(d,u),r=Object(i.a)(c,2),n=r[0],o=r[1],l=Object(s.useMemo)((function(){return{state:n,dispatch:o}}),[n]);return Object(a.jsx)(j.Provider,{value:l,children:e})},m=c(41),p=c.n(m),O=c(81),h=c(36),_=c.n(h),x=function(){var t=Object(s.useContext)(j),e=t.state,c=t.dispatch;return e.isVisible?Object(a.jsx)("button",{className:"header__btn--back",onClick:function(){return c({type:"HIDE"})},children:Object(a.jsx)(_.a,{className:"header__back",style:{fontSize:"clamp(3.5rem, 10vw, 4.5rem)"}})}):Object(a.jsx)("button",{className:"header__btn--cart",onClick:function(){return c({type:"SHOW"})},children:Object(a.jsx)(O.a,{classes:{root:"badge"},badgeContent:e.total_items,color:"secondary",max:10,showZero:!0,children:Object(a.jsx)(p.a,{className:"header__cart",style:{fontSize:"clamp(2.5rem, 8vw, 3.5rem)"}})})})},y=function(){return Object(a.jsxs)("header",{className:"header",children:[Object(a.jsx)("h2",{className:"header__logo",children:"Shop 4 All"}),Object(a.jsx)(x,{})]})},f=function(t){var e=t.added,c=t.handleAddClick,s=t.handleIncreaseClick;return e?Object(a.jsx)("button",{className:"product__cart-group--add-more",onClick:s,children:"Add more"}):Object(a.jsx)("button",{className:"product__cart-group--add-to-cart",onClick:c,children:"Add to Cart"})},N=c(83),v=function(t){var e=t.product,c=Object(s.useState)(!1),r=Object(i.a)(c,2),n=r[0],o=r[1],l=Object(s.useState)(!1),d=Object(i.a)(l,2),u=d[0],b=d[1],m=Object(s.useContext)(j),p=m.state,O=m.dispatch,h={id:e.id,title:e.title,price:e.price,quantity:0,amount:0};Object(s.useEffect)((function(){var t=p.items.some((function(t){return t.id===e.id}));b(t)}),[p.items]);return Object(a.jsxs)("div",{className:"product",children:[Object(a.jsx)(N.a,{classes:{root:"snackbar"},anchorOrigin:{vertical:"bottom",horizontal:"center"},open:n,autoHideDuration:5e3,onClose:function(){o(!1)},message:"Item added to Cart!"}),Object(a.jsx)("img",{src:e.image,alt:e.title,className:"product__image"}),Object(a.jsx)("p",{title:e.title,className:"product__title",children:e.title}),Object(a.jsx)("p",{title:e.description,className:"product__desc",children:e.description}),Object(a.jsxs)("span",{className:"product__cart-group",children:[Object(a.jsxs)("p",{className:"product__cart-group--price",children:["$ ",e.price.toFixed(2)]}),Object(a.jsx)(f,{added:u,handleAddClick:function(){n||o(!0),O({type:"ADD",payload:h})},handleIncreaseClick:function(){n||o(!0),O({type:"INCREASE",payload:h})}})]})]})},C=c(82),E=c(32),g=c.n(E),k=c(42),R=function(t,e){switch(e.type){case"SUCCESS":return Object(l.a)(Object(l.a)({},t),{},{isLoading:!1,data:e.payload});case"ERROR":return Object(l.a)(Object(l.a)({},t),{},{isLoading:!1,error:e.payload});default:return t}},S={isLoading:!0,data:[],error:""},A=function(t){var e=Object(s.useReducer)(R,S),c=Object(i.a)(e,2),a=c[0],r=c[1];return Object(s.useEffect)((function(){(function(){var e=Object(k.a)(g.a.mark((function e(){var c,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return c=e.sent,e.next=6,c.json();case 6:a=e.sent,r({type:"SUCCESS",payload:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r({type:"ERROR",payload:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),a},w=Object(s.createContext)(S),I=function(t){var e=t.children,c=A("https://fakestoreapi.com/products/"),r=Object(s.useMemo)((function(){return c}),[c]);return Object(a.jsx)(w.Provider,{value:r,children:e})},q=function(){var t=Object(s.useContext)(w);return t.isLoading?Object(a.jsx)("article",{className:"products--loading",children:Object(a.jsx)(C.a,{style:{color:"#08c7bb"}})}):Object(a.jsxs)("article",{className:"products",children:[Object(a.jsx)("h1",{className:"products__title",children:"Buy from a wide variety of accessories"}),Object(a.jsx)("section",{className:"products__listing",children:t.data.map((function(t){return Object(a.jsx)(v,{product:t},t.id)}))})]})},D=c.p+"static/media/illustration.cb6734b3.svg",V=function(){return Object(a.jsxs)("article",{className:"empty-cart",children:[Object(a.jsxs)("div",{className:"text-container",children:[Object(a.jsx)("h1",{className:"empty-cart__title",children:"Your cart is empty!"}),Object(a.jsx)("h3",{className:"empty-cart__subtitle",children:"Please go back and add items"})]}),Object(a.jsx)("img",{src:D,className:"empty-cart__img"})]})},L=function(t){var e=t.cartItems,c=Object(s.useContext)(j),r=(c.state,c.dispatch);return Object(a.jsxs)("section",{className:"total-card",children:[Object(a.jsxs)("div",{className:"total-card__items",children:[Object(a.jsx)("p",{children:"Total items"}),Object(a.jsx)("p",{children:e.total_items})]}),Object(a.jsxs)("div",{className:"total-card__amount",children:[Object(a.jsx)("p",{children:"Total amount"}),Object(a.jsx)("p",{children:e.total_amount.toFixed(2)})]}),Object(a.jsxs)("div",{className:"total-card__actions",children:[Object(a.jsx)("button",{className:"total-card__actions--checkout",disabled:!0,children:"Checkout"}),Object(a.jsx)("button",{className:"total-card__actions--clear",onClick:function(){return r({type:"CLEAR"})},children:"Clear"})]})]})},H=function(t){var e=t.product,c=t.dispatch;return Object(a.jsxs)("div",{className:"cart-product",children:[Object(a.jsx)("div",{className:"cart-product__name",children:e.title}),Object(a.jsxs)("div",{className:"cart-product__actions",children:[Object(a.jsxs)("p",{className:"cart-product__actions--amount",children:["$ ",e.amount.toFixed(2)]}),Object(a.jsxs)("div",{className:"cart-product__actions--shop",children:[Object(a.jsx)("button",{title:"Add more items",className:"product__inc",onClick:function(){c({type:"INCREASE",payload:e})},children:"+"}),Object(a.jsx)("p",{className:"product__quantity",children:e.quantity}),Object(a.jsx)("button",{title:"Remove items",className:"product__dec",onClick:function(){e.quantity>1?c({type:"DECREASE",payload:e}):c({type:"REMOVE",payload:e})},children:"-"})]})]})]})},M=function(){var t=Object(s.useContext)(j),e=t.state,c=t.dispatch;return e.isVisible?(document.body.style.overflow="hidden",0===e.total_items?Object(a.jsx)(V,{}):Object(a.jsxs)("article",{className:"cart",children:[Object(a.jsx)(L,{cartItems:e}),Object(a.jsx)("section",{className:"cart__products",children:e.items.map((function(t){return Object(a.jsx)(H,{product:t,dispatch:c},t.id)}))})]})):(document.body.style.overflow="unset",Object(a.jsx)("article",{className:"cart--invis"}))},z=function(){return Object(a.jsx)(I,{children:Object(a.jsxs)(b,{children:[Object(a.jsx)(y,{}),Object(a.jsx)(q,{}),Object(a.jsx)(M,{})]})})};c(58);n.a.render(Object(a.jsx)(z,{}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.a941c6b4.chunk.js.map